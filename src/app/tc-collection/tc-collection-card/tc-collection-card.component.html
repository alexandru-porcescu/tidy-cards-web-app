<article class="collection-card" *ngIf="collection">
  <div class="collection-card--drag-handle" *ngIf="sortable">
    <span class="material-icons move-item-button">drag_handle</span>
  </div>

  <a class="collection-card--content" [routerLink]="['/c', collection._id]">
    <div class="collection-card--cover" [style.background-color]="'#'+collection.color">
      <img [src]="collection._thumbnail?.getPath('300x250')" onError="this.style.display='none';" *ngIf="collection._thumbnail" />
    </div>

    <div class="collection-card--infos">
      <h4 class="collection-card--infos--title">{{collection.title | truncate:[40] }}</h4>
      <ul class="collection-card--infos--metas">
        <li class="collection-card--infos--meta is-featured" *ngIf="collection.isFeatured && collection.visibility == 'PUBLIC'">
          <span class="icon">{{ t._.icon?.featured?.filled }}</span>
          <span>{{t._.collection?.featured_title}}</span>
        </li>

        <li class="collection-card--infos--meta has-visibility" *ngIf="collection.visibility == 'UNINDEXED'">
          <span class="icon">{{ t._.icon?.unindexed_collection?.filled }}</span>
          <span>{{t._.collection?.visibility[collection.visibility].title}}</span>
        </li>

        <li class="collection-card--infos--meta has-visibility" *ngIf="collection.visibility == 'PRIVATE'">
          <span class="icon">{{ t._.icon?.private_collection?.filled }}</span>
          <span>{{t._.collection?.visibility[collection.visibility].title}}</span>
        </li>

        <li class="collection-card--infos--meta" *ngIf="collection.itemsCount < 2">
          {{collection.itemsCount}} {{t._.collection?.item_sing}}
        </li>

        <li class="collection-card--infos--meta" *ngIf="collection.itemsCount > 1">
          {{collection.itemsCount}} {{t._.collection?.item_plur}}
        </li>

        <li class="collection-card--infos--meta" *ngIf="collection.starsCount < 2">
          {{collection.starsCount}} {{t._.collection?.note_sing}}
        </li>

        <li class="collection-card--infos--meta" *ngIf="collection.starsCount > 1">
          {{collection.starsCount}} {{t._.collection?.note_plur}}
        </li>
      </ul>
    </div>
  </a>
</article>
